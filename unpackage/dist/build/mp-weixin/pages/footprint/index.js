"use strict";const e=require("../../common/vendor.js"),a=require("../../utils/echarts.js"),t=require("../../api/api.js"),r=require("../../utils/http.js"),n=require("../../utils/wx.js"),s=require("../../enum/user.js");Math||i();const i=()=>"../../uni_modules/lime-echart/components/l-echart/l-echart.js",o={__name:"index",setup(i){const o=new t.Api,c=n.getStorage(s.USER_INFO);let u=0;const l=e.ref([]),p=e.ref(300),v=e.ref(!1),d=e.ref(),m=e=>{u=e.touches[0].clientY},g=e=>{e.touches[0].clientY-u>0?(p.value=300,v.value=!1):(p.value=700,v.value=!0)};return e.onMounted((async()=>{d.value.init(a.echarts,(async e=>{e.showLoading();const t=await(async()=>{const e=await o.getMapData();return 200===e.code?e.data:[]})();a.echarts.registerMap("CHINA_MAP",t);const r=await(async()=>{const e=await o.getUserProvince({id:c.id});return 200===e.code?(l.value=e.data,e.data):[]})();e.hideLoading();const n={visualMap:{min:800,max:5e4,show:!1,inRange:{color:["lightskyblue","yellow","orangered"]}},series:[{name:"中国地图",type:"map",map:"CHINA_MAP",itemStyle:{borderColor:"rgba(0, 0, 0, 0.5)"},data:r.map((e=>({name:e.province_name,value:2e3})))}]};e.setOption(n)}))})),(a,t)=>e.e({a:e.sr(d,"e1c50a20-0",{k:"mapWrapperRef"}),b:l.value&&l.value.length},l.value&&l.value.length?{c:e.f(l.value,((a,t,n)=>({a:`${e.unref(r.VUE_APP_API_URL)}/images/province/${a.province_code}.png`,b:e.t(a.province_name),c:t})))}:{},{d:v.value,e:p.value+"px",f:e.o(g),g:e.o(m)})}};wx.createPage(o);
