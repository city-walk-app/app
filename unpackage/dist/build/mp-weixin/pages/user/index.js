"use strict";const e=require("../../common/vendor.js"),r=require("../../api/api.js"),a=require("../../utils/http.js");require("../../utils/wx.js"),require("../../enum/user.js");const n={__name:"index",setup(n){const u=e.inject("userInfo"),t=e.ref(),i=new r.Api,v=e.ref(!1),c=e.ref(),o=e.ref(),l=()=>{v.value=!0};return(async()=>{const e=await i.getUserInfo({id:u.value.id});200===e.code&&(u.value=e.data)})(),(async()=>{const e=await i.getUserProvince({id:u.value.id});200===e.code&&(o.value=e.data)})(),(async()=>{const e=new Date,r=await i.userGetCalendarHeatmap({year:e.getFullYear(),id:u.value.id});200===r.code&&(c.value=r.data)})(),(r,n)=>e.e({a:e.unref(u)},e.unref(u)?{b:`url(${e.unref(a.VUE_APP_API_URL)+e.unref(u).avatar}) no-repeat`}:{},{c:e.unref(u)},e.unref(u)?e.e({d:e.unref(a.VUE_APP_API_URL)+e.unref(u).avatar,e:e.t(e.unref(u).nick_name),f:e.unref(u).signature},e.unref(u).signature?{g:e.t(e.unref(u).signature)}:{},{h:e.unref(u).province},e.unref(u).province?e.e({i:e.t(e.unref(u).province),j:e.unref(u).city},e.unref(u).city?{k:e.t(e.unref(u).city)}:{}):{},{l:t.value&&t.value.province_banner},t.value&&t.value.province_banner?{m:t.value.province_banner,n:e.o(l),o:v.value,p:`url('${t.value.province_banner}') 0 0 / cover no-repeat`,q:`url('${t.value.province_banner}') 0 0 / cover no-repeat`}:{}):{},{r:o.value&&o.value.length},o.value&&o.value.length?{s:e.f(o.value,((r,n,u)=>({a:`${e.unref(a.VUE_APP_API_URL)}/images/province/${r.province_code}.png`,b:n})))}:{},{t:c.value},c.value?{v:e.f(c.value,((r,a,n)=>({a:e.f(r,((e,r,a)=>({a:r,b:e.opacity?`rgba(0, 102, 59, ${e.opacity})`:"rgb(244, 245, 245)"}))),b:a})))}:{})}};wx.createPage(n);
