"use strict";const e=require("../../common/vendor.js"),i=require("../../api/api.js"),a=require("../../enum/user.js"),n=require("../../utils/wx.js");require("../../utils/http.js"),Math||(t+r+u+o)();const t=()=>"../home/index.js",o=()=>"../user/index2.js",r=()=>"../ranking/index2.js",u=()=>"../route-history/index2.js",s={__name:"index",setup(t){const o=new i.Api,r=e.ref(0),u=e.ref({}),s=e.ref(n.getStorage(a.USER_INFO));e.provide("userInfo",u),e.provide("userInfoStorage",s);const c=[{title:"首页",icon:"icon-shouye"},{title:"排行",icon:"icon-jiangbei-"},{title:"记录",icon:"icon-lishi"},{title:"我的",icon:"icon-yonghu"}],l=()=>{e.index.navigateTo({url:"/pages/login/index"})};return(async()=>{if(!s.value||!s.value.id)return;const e=await o.getUserInfo({id:s.value.id});200===e.code&&(u.value=e.data)})(),(i,t)=>e.e({a:s.value&&s.value.id},s.value&&s.value.id?{b:0===r.value,c:1===r.value,d:2===r.value,e:3===r.value,f:e.f(c,((i,t,o)=>({a:e.n(i.icon),b:e.n({"bar-item-icon-active":r.value===t}),c:t,d:e.o((e=>(e=>{r.value=e,s.value=n.getStorage(a.USER_INFO)})(t)),t)})))}:{g:e.o(l)})}},c=e._export_sfc(s,[["__scopeId","data-v-9ae63b6d"]]);wx.createPage(c);
