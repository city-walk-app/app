"use strict";const e=require("./common/vendor.js"),a=require("./api/api.js"),r=require("./utils/http.js");require("./utils/wx.js");const n={__name:"index",setup(n){const u=e.inject("userInfo"),t=e.ref(),i=new a.Api,v=e.ref(!1),c=e.ref(),o=e.ref(),l=()=>{v.value=!0};return(async()=>{const e=await i.getUserInfo({id:u.value.id});200===e.code&&(u.value=e.data)})(),(async()=>{const e=await i.getUserProvince({id:u.value.id});200===e.code&&(o.value=e.data)})(),(async()=>{const e=new Date,a=await i.userGetCalendarHeatmap({year:e.getFullYear(),id:u.value.id});200===a.code&&(c.value=a.data)})(),(a,n)=>e.e({a:e.unref(u)},e.unref(u)?{b:`url(${e.unref(r.VUE_APP_API_URL)+e.unref(u).avatar}) no-repeat`}:{},{c:e.unref(u)},e.unref(u)?e.e({d:e.unref(r.VUE_APP_API_URL)+e.unref(u).avatar,e:e.t(e.unref(u).nick_name),f:e.unref(u).signature},e.unref(u).signature?{g:e.t(e.unref(u).signature)}:{},{h:e.unref(u).province},e.unref(u).province?e.e({i:e.t(e.unref(u).province),j:e.unref(u).city},e.unref(u).city?{k:e.t(e.unref(u).city)}:{}):{},{l:t.value&&t.value.province_banner},t.value&&t.value.province_banner?{m:t.value.province_banner,n:e.o(l),o:v.value,p:`url('${t.value.province_banner}') 0 0 / cover no-repeat`,q:`url('${t.value.province_banner}') 0 0 / cover no-repeat`}:{}):{},{r:o.value&&o.value.length},o.value&&o.value.length?{s:e.f(o.value,((a,n,u)=>({a:`${e.unref(r.VUE_APP_API_URL)}/images/province/${a.province_code}.png`,b:n})))}:{},{t:c.value},c.value?{v:e.f(c.value,((a,r,n)=>({a:e.f(a,((e,a,r)=>({a:a,b:e.opacity?`rgba(0, 102, 59, ${e.opacity})`:"rgb(244, 245, 245)"}))),b:r})))}:{})}};exports._sfc_main=n;
