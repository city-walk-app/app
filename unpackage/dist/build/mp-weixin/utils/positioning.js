"use strict";const o=require("../common/vendor.js");exports.usePositioning=()=>({isExceed:(o,t,s,n,c=3)=>{const e=o=>o*(Math.PI/180);return((o,t,s,n)=>{const c=e(s-o),i=e(n-t),a=Math.sin(c/2)*Math.sin(c/2)+Math.cos(e(o))*Math.cos(e(s))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))})(o,t,s,n)<=c},getAround:t=>()=>{o.index.getLocation({type:"gcj02",altitude:!0,isHighAccuracy:!0,success:s=>{console.log("当前位置",s);const{latitude:n,longitude:c}=s;o.index.chooseLocation({success:o=>{console.log("chooseLocation 获取成功",o),t&&t(o,n,c)},fail:o=>{console.log("openLocation 获取失败",o)}})},fail:o=>{console.log("getLocation 获取失败",o)}})}});
