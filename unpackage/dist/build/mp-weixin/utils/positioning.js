"use strict";const t=require("../common/vendor.js");exports.calculateCenter=t=>{if(0===t.length)return null;for(const o of t)o.latitude&&o.longitude&&(o.latitude,o.longitude);return{latitude:0/t.length,longitude:0/t.length}},exports.usePositioning=()=>({isExceed:(t,o,e,n,s=3)=>{const c=t=>t*(Math.PI/180);return((t,o,e,n)=>{const s=c(e-t),i=c(n-o),a=Math.sin(s/2)*Math.sin(s/2)+Math.cos(c(t))*Math.cos(c(e))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))})(t,o,e,n)<=s},getAround:o=>()=>{t.index.getLocation({type:"gcj02",altitude:!0,isHighAccuracy:!0,success:e=>{console.log("当前位置",e);const{latitude:n,longitude:s}=e;t.index.chooseLocation({success:t=>{console.log("chooseLocation 获取成功",t),o&&o(t,n,s)},fail:t=>{console.log("openLocation 获取失败",t)}})},fail:t=>{console.log("getLocation 获取失败",t)}})}});
